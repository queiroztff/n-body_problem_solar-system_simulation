import pytest
from entities.data_mining.NASA.state import State

EARTH_STATE = '''
$$SOE
2460457.500000000, A.D. 2024-May-27 00:00:00.0000, -6.303367412750192E+07, -1.389026365799961E+08,  3.861030037092417E+04,  2.670043153343017E+01, -1.230374124524901E+01,  2.841576390517631E-04,
2460467.500000000, A.D. 2024-Jun-06 00:00:00.0000, -3.918556086215076E+07, -1.475278641904829E+08,  3.809623288336396E+04,  2.837214087213644E+01, -7.607885336272339E+00, -5.565866462129421E-04,
2460477.500000000, A.D. 2024-Jun-16 00:00:00.0000, -1.425312249710334E+07, -1.519870326249994E+08,  3.842398568987101E+04,  2.919920442281109E+01, -2.698957518906548E+00,  8.815606226076911E-04,
2460487.500000000, A.D. 2024-Jun-26 00:00:00.0000,  1.103669382426294E+07, -1.521862907521091E+08,  3.843092194687575E+04,  2.921371796967833E+01,  2.234753928806636E+00, -1.243139974296814E-03,
$$EOE
'''

@pytest.mark.parametrize('input, expected',[((EARTH_STATE),({'State':[('2460457.500000000', '-6.303367412750192E+07', '-1.389026365799961E+08', '3.861030037092417E+04', '2.670043153343017E+01', '-1.230374124524901E+01', '2.841576390517631E-04'), 
                                                                      ('2460467.500000000', '-3.918556086215076E+07', '-1.475278641904829E+08', '3.809623288336396E+04', '2.837214087213644E+01', '-7.607885336272339E+00', '-5.565866462129421E-04'),
                                                                      ('2460477.500000000', '-1.425312249710334E+07', '-1.519870326249994E+08', '3.842398568987101E+04', '2.919920442281109E+01', '-2.698957518906548E+00',  '8.815606226076911E-04'),
                                                                      ('2460487.500000000', '1.103669382426294E+07', '-1.521862907521091E+08', '3.843092194687575E+04', '2.921371796967833E+01', '2.234753928806636E+00', '-1.243139974296814E-03')]}))])
def test_State_works(input, expected):
    obj = State(report=input)
    result = obj.state()
    assert result == expected
