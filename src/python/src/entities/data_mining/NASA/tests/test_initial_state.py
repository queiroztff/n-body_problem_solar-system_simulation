import pytest
from entities.data_mining.NASA.initial_state import InitialState

EARTH_SATE = '''
$$SOE
2460457.500000000, A.D. 2024-May-27 00:00:00.0000, -6.303367412750192E+07, -1.389026365799961E+08,  3.861030037092417E+04,  2.670043153343017E+01, -1.230374124524901E+01,  2.841576390517631E-04,
2460459.500000000, A.D. 2024-May-29 00:00:00.0000, -5.838523896188197E+07, -1.409500944344000E+08,  3.861020151285827E+04,  2.709615463917403E+01, -1.139137778140144E+01, -2.748134505585753E-04,
2460461.500000000, A.D. 2024-May-31 00:00:00.0000, -5.367091546498583E+07, -1.428386929510395E+08,  3.852250415103137E+04,  2.746282201641040E+01, -1.046507251666529E+01, -7.097985547614982E-04,
2460463.500000000, A.D. 2024-Jun-02 00:00:00.0000, -4.889584786247320E+07, -1.445660276712833E+08,  3.837805390493572E+04,  2.779891800731113E+01, -9.524976325039365E+00, -9.182829194616104E-04,
2460465.500000000, A.D. 2024-Jun-04 00:00:00.0000, -4.406547764517802E+07, -1.461297800791492E+08,  3.822096093882620E+04,  2.810258471519161E+01, -8.571983374193140E+00, -8.550796657300630E-04,
2460467.500000000, A.D. 2024-Jun-06 00:00:00.0000, -3.918556086215076E+07, -1.475278641904829E+08,  3.809623288336396E+04,  2.837214087213644E+01, -7.607885336272339E+00, -5.565866462129421E-04,
2460469.500000000, A.D. 2024-Jun-08 00:00:00.0000, -3.426208712367827E+07, -1.487585644109094E+08,  3.803615743952990E+04,  2.860663587302299E+01, -6.635091644572203E+00, -1.275479530091772E-04,
2460471.500000000, A.D. 2024-Jun-10 00:00:00.0000, -2.930113163251088E+07, -1.498205913921061E+08,  3.805252002390474E+04,  2.880600903801185E+01, -5.656023505948826E+00,  3.089423650828316E-04,
2460473.500000000, A.D. 2024-Jun-12 00:00:00.0000, -2.430872419940901E+07, -1.507130404131527E+08,  3.813774078717083E+04,  2.897077227184302E+01, -4.672673183226562E+00,  6.567446884342409E-04,
2460475.500000000, A.D. 2024-Jun-14 00:00:00.0000, -1.929078675377877E+07, -1.514353092834356E+08,  3.827099455962330E+04,  2.910161056227111E+01, -3.686571143331975E+00,  8.579279832361397E-04,
2460477.500000000, A.D. 2024-Jun-16 00:00:00.0000, -1.425312249710334E+07, -1.519870326249994E+08,  3.842398568987101E+04,  2.919920442281109E+01, -2.698957518906548E+00,  8.815606226076911E-04,
2460479.500000000, A.D. 2024-Jun-18 00:00:00.0000, -9.201416416975714E+06, -1.523680437836887E+08,  3.856456201725453E+04,  2.926425472708410E+01, -1.710899576211318E+00,  7.130379468766046E-04,
2460481.500000000, A.D. 2024-Jun-20 00:00:00.0000, -4.141225102669007E+06, -1.525783438905619E+08,  3.865949394477904E+04,  2.929755331652036E+01, -7.232520979793235E-01,  3.560716641299311E-04,
2460483.500000000, A.D. 2024-Jun-22 00:00:00.0000,  9.220375533073558E+05, -1.526180518958862E+08,  3.867879821673036E+04,  2.929993412206836E+01,  2.635071934475857E-01, -1.523468776672282E-04,
2460485.500000000, A.D. 2024-Jun-24 00:00:00.0000,  5.983087121361285E+06, -1.524873266234668E+08,  3.860294347055256E+04,  2.927199772907381E+01,  1.249396487992064E+00, -7.269880035499221E-04,
2460487.500000000, A.D. 2024-Jun-26 00:00:00.0000,  1.103669382426294E+07, -1.521862907521091E+08,  3.843092194687575E+04,  2.921371796967833E+01,  2.234753928806636E+00, -1.243139974296814E-03,
$$EOE
'''

@pytest.mark.parametrize('input, expected',[((EARTH_SATE),
                                             ({'Initial_State':('-6.303367412750192E+07', 
                                                                '-1.389026365799961E+08',  
                                                                '3.861030037092417E+04', 
                                                                '2.670043153343017E+01', 
                                                                '-1.230374124524901E+01',  '2.841576390517631E-04')}))])
def test_initial_state_works(input, expected):
    obj = InitialState(report=input)
    result = obj.initial_state()
    assert result == expected